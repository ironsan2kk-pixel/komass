# KOMAS TRADING SYSTEM ‚Äî MASTER PLAN
> –í–µ—Ä—Å–∏—è: 1.8 | –î–∞—Ç–∞: 2025-12-25 | –°—Ç–∞—Ç—É—Å: –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

---

## üìã –û–ì–õ–ê–í–õ–ï–ù–ò–ï

1. [–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞](#-—Ü–µ–ª—å-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–ú–æ–¥—É–ª–∏ –∏ —Å—Ç–∞—Ç—É—Å—ã](#-–º–æ–¥—É–ª–∏-–∏-—Å—Ç–∞—Ç—É—Å—ã)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ñ–∞–π–ª–æ–≤)
5. [–ß–∞—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#-—á–∞—Ç—ã-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
6. [–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#-–ø—Ä–∞–≤–∏–ª–∞-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
7. [API –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã](#-api-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã)
8. [–ü—Ä–æ–≥—Ä–µ—Å—Å](#-–ø—Ä–æ–≥—Ä–µ—Å—Å)
9. [–ò—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π](#-–∏—Å—Ç–æ—Ä–∏—è-–¥–µ–π—Å—Ç–≤–∏–π)

---

## üéØ –¶–ï–õ–¨ –ü–†–û–ï–ö–¢–ê

**Komas Trading System** ‚Äî –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞–º–∏.

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
1. **–ü–æ—Ä—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ Pine Script ‚Üí Python** —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—Å–µ–π –ª–æ–≥–∏–∫–∏
2. **–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤** ‚Äî –∫–∞–∂–¥—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω
3. **–ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª TradingView** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –±—ç–∫—Ç–µ—Å—Ç, heatmap
4. **Real-time –¥–∞–Ω–Ω—ã–µ** ‚Äî WebSocket —Å—Ç—Ä–∏–º–∏–Ω–≥ —Å Binance
5. **–ë–æ—Ç—ã 24/7** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã –≤ Telegram (Cornix —Ñ–æ—Ä–º–∞—Ç)
6. **–ì–∏–±–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

### –ü—Ä–∏–Ω—Ü–∏–ø—ã:
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** ‚Äî –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º, —Ñ–∞–π–ª—ã < 500 —Å—Ç—Ä–æ–∫
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** ‚Äî –ø–ª–∞–≥–∏–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –¥–µ–ø–ª–æ—è** ‚Äî Windows Server, –±–µ–∑ Docker, –±–∞—Ç–Ω–∏–∫–∏

---

## üì¶ –ú–û–î–£–õ–ò –ò –°–¢–ê–¢–£–°–´

### –õ–µ–≥–µ–Ω–¥–∞ —Å—Ç–∞—Ç—É—Å–æ–≤:
- üî¥ TODO ‚Äî –Ω–µ –Ω–∞—á–∞—Ç–æ
- üü° –ß–∞—Å—Ç–∏—á–Ω–æ ‚Äî –µ—Å—Ç—å –∫–æ–¥, –Ω—É–∂–Ω–æ –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å/–¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å
- üü¢ –ì–æ—Ç–æ–≤–æ ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- üîÑ –í —Ä–∞–±–æ—Ç–µ ‚Äî –¥–µ–ª–∞–µ—Ç—Å—è —Å–µ–π—á–∞—Å

### CORE (–Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã) ‚úÖ –≠–¢–ê–ü 1 –ó–ê–í–ï–†–®–Å–ù

| –ú–æ–¥—É–ª—å | –§–∞–π–ª | –°—Ç–∞—Ç—É—Å | –ß–∞—Ç |
|--------|------|--------|-----|
| **Logger** | `core/logger.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #01 ‚úÖ |
| **Config** | `core/config.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #01 ‚úÖ |
| **Database** | `core/database.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #02 ‚úÖ |

### DATA (–î–∞–Ω–Ω—ã–µ) ‚úÖ –≠–¢–ê–ü 2 –ó–ê–í–ï–†–®–Å–ù

| –ú–æ–¥—É–ª—å | –§–∞–π–ª | –°—Ç–∞—Ç—É—Å | –ß–∞—Ç |
|--------|------|--------|-----|
| **Binance API** | `core/data/binance.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #03 ‚úÖ |
| **Storage** | `core/data/storage.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #03 ‚úÖ |
| **Manager** | `core/data/manager.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #03 ‚úÖ |
| **Data API** | `api/data.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #03 ‚úÖ |
| **WebSocket** | `core/data/websocket.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #04 ‚úÖ |
| **WS API** | `api/ws.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #04 ‚úÖ |

### INDICATORS (–°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤) üîÑ –≠–¢–ê–ü 3 –í –†–ê–ë–û–¢–ï

| –ú–æ–¥—É–ª—å | –§–∞–π–ª | –°—Ç–∞—Ç—É—Å | –ß–∞—Ç |
|--------|------|--------|-----|
| BaseIndicator | `indicators/base/indicator.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #05 ‚úÖ |
| BaseTradingSystem | `indicators/base/trading.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #05 ‚úÖ |
| BaseFilter | `indicators/base/filter.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #05 ‚úÖ |
| BaseOptimizer | `indicators/base/optimizer.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #05 ‚úÖ |
| BaseBacktest | `indicators/base/backtest.py` | üü¢ –ì–æ—Ç–æ–≤–æ | #05 ‚úÖ |
| PluginLoader | `indicators/loader.py` | üî¥ | #06 |
| Registry | `indicators/registry.py` | üî¥ | #06 |

### TRG PLUGIN

| –ú–æ–¥—É–ª—å | –§–∞–π–ª | –°—Ç–∞—Ç—É—Å | –ß–∞—Ç |
|--------|------|--------|-----|
| manifest.json | `plugins/trg/manifest.json` | üî¥ | #07 |
| Indicator Core | `plugins/trg/indicator/core.py` | üü° | #07 |
| Signals | `plugins/trg/indicator/signals.py` | üü° | #07 |
| Trading System | `plugins/trg/trading/system.py` | üü° | #08 |
| Filters | `plugins/trg/filters/*.py` | üü° | #10 |
| Optimizer | `plugins/trg/optimizer/*.py` | üü° | #11 |
| Backtest | `plugins/trg/backtest/engine.py` | üü° | #12 |

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í (–¢–µ–∫—É—â–∞—è)

```
komas/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py                    # FastAPI entry (v3.6) ‚úÖ
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/                      # ‚ïê‚ïê‚ïê –Ø–î–†–û ‚ïê‚ïê‚ïê
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py            # ‚úÖ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py              # Pydantic Settings ‚úÖ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logger.py              # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py            # SQLite + SQLAlchemy ‚úÖ
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data/                  # ‚ïê‚ïê‚ïê –î–ê–ù–ù–´–ï ‚ïê‚ïê‚ïê ‚úÖ –ó–ê–í–ï–†–®–Å–ù
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py        # –≠–∫—Å–ø–æ—Ä—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ binance.py         # Binance API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ storage.py         # Parquet storage
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ manager.py         # –§–∞—Å–∞–¥-–º–µ–Ω–µ–¥–∂–µ—Ä
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ websocket.py       # WebSocket –∫–ª–∏–µ–Ω—Ç ‚úÖ
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ indicators/                # ‚ïê‚ïê‚ïê –ò–ù–î–ò–ö–ê–¢–û–†–´ ‚ïê‚ïê‚ïê ‚úÖ NEW
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py            # –ì–ª–∞–≤–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ base/                  # –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py        # –≠–∫—Å–ø–æ—Ä—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ indicator.py       # BaseIndicator (~380 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ trading.py         # BaseTradingSystem (~500 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ filter.py          # BaseFilter + —Ñ–∏–ª—å—Ç—Ä—ã (~480 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ optimizer.py       # BaseOptimizer (~520 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ backtest.py        # BaseBacktest (~450 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api/                       # ‚ïê‚ïê‚ïê REST API ‚ïê‚ïê‚ïê
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py            # ‚úÖ
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ data.py                # Data API (v2) ‚úÖ
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ws.py                  # WebSocket/SSE API ‚úÖ
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ database.py            # Database API ‚úÖ
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ data_routes.py         # (legacy, fallback)
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ indicator_routes.py    # (legacy, 2000+ —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ data/                          # Parquet —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ logs/                          # –õ–æ–≥–∏
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt               # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ frontend/                          # React (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
‚îÇ
‚îú‚îÄ‚îÄ install.bat                        # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ–≥–æ
‚îú‚îÄ‚îÄ install_data_deps.bat              # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ data –º–æ–¥—É–ª—è ‚úÖ
‚îú‚îÄ‚îÄ install_ws_deps.bat                # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WebSocket ‚úÖ
‚îú‚îÄ‚îÄ install_indicators_deps.bat        # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ indicators ‚úÖ NEW
‚îú‚îÄ‚îÄ start.bat
‚îú‚îÄ‚îÄ stop.bat
‚îî‚îÄ‚îÄ reinstall.bat
```

---

## ‚ö†Ô∏è –ü–†–ê–í–ò–õ–ê –†–ê–ó–†–ê–ë–û–¢–ö–ò (–ö–†–ò–¢–ò–ß–ù–û!)

### üö´ –ó–ê–ü–†–ï–©–ï–ù–û:
1. **–£—Ä–µ–∑–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–µ–∑ —è–≤–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
2. –£–¥–∞–ª—è—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Ñ—É–Ω–∫—Ü–∏–∏
3. –£–±–∏—Ä–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
4. –í—ã–≥—Ä—É–∂–∞—Ç—å –∫–æ–¥ –≤ —á–∞—Ç —Ç–µ–∫—Å—Ç–æ–º (—Ç–æ–ª—å–∫–æ ZIP –∞—Ä—Ö–∏–≤—ã!)

### ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:
1. **–í—ã–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞ –¢–û–õ–¨–ö–û –≤ ZIP –∞—Ä—Ö–∏–≤–∞—Ö**
2. –°–æ—Ö—Ä–∞–Ω—è—Ç—å –í–°–ï —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
3. **–°–æ–∑–¥–∞–≤–∞—Ç—å .bat —Ñ–∞–π–ª—ã –¥–ª—è:**
   - pip install (–ª—é–±—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
   - npm install
   - –¢–µ—Å—Ç—ã
   - –õ—é–±—ã–µ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
4. **–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å:**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ main.py (–±–µ–∑ –≤–æ–ø—Ä–æ—Å–æ–≤)
   - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ requirements.txt
   - –≠–∫—Å–ø–æ—Ä—Ç—ã –≤ __init__.py
5. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π Logger
6. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–¥–µ—Ä –ø—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
7. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSE –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### –ü—Ä–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–¥–∞:
1. –°–Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
2. –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤–æ–µ, –ù–ï —É–¥–∞–ª—è—è —Å—Ç–∞—Ä–æ–µ
3. –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω—É–∂–Ω–æ —É–±—Ä–∞—Ç—å ‚Äî –°–ü–†–û–°–ò–¢–¨
4. –í—ã–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ ZIP —Å –±–∞—Ç–Ω–∏–∫–∞–º–∏

---

## üìä –ü–†–û–ì–†–ï–°–°

```
–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë 35%

–ß–∞—Ç #00 - –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚úÖ
–ß–∞—Ç #01 - Logger/Config: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚úÖ
–ß–∞—Ç #02 - Database:      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚úÖ
–ß–∞—Ç #03 - Data Manager:  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚úÖ
–ß–∞—Ç #04 - WebSocket:     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚úÖ
–ß–∞—Ç #05 - Base Classes:  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚úÖ ‚Üê DONE

–≠—Ç–∞–ø 1  - Core:        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚úÖ [#01 ‚úÖ, #02 ‚úÖ]
–≠—Ç–∞–ø 2  - Data:        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚úÖ [#03 ‚úÖ, #04 ‚úÖ]
–≠—Ç–∞–ø 3  - Indicators:  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë 50%     [#05 ‚úÖ, #06] ‚Üê –í –†–ê–ë–û–¢–ï
–≠—Ç–∞–ø 4  - TRG Plugin:  ‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 30%    [#07-#13] (–µ—Å—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–¥)
–≠—Ç–∞–ø 5  - API:         ‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 40%    [#14] (—á–∞—Å—Ç–∏—á–Ω–æ –≥–æ—Ç–æ–≤–æ)
–≠—Ç–∞–ø 6  - Frontend:    ‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 20%    [#15-#17] (–µ—Å—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–¥)
–≠—Ç–∞–ø 7  - Presets:     ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 0%     [#18-#19]
–≠—Ç–∞–ø 8  - Bots:        ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 0%     [#20-#22]
–≠—Ç–∞–ø 9  - Telegram:    ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 0%     [#23]
–≠—Ç–∞–ø 10 - Analytics:   ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 0%     [#24]
```

### –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —á–∞—Ç—ã:

| –ß–∞—Ç | –ù–∞–∑–≤–∞–Ω–∏–µ | –î–∞—Ç–∞ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|------|-----------|
| #00 | –û–±—Å—É–∂–¥–µ–Ω–∏–µ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | 2025-12-25 | Master Plan |
| #01 | Core: Logger –∏ Config | 2025-12-25 | komas_core_v1.zip |
| #02 | Core: Database | 2025-12-25 | database.py + API |
| #03 | Data: Manager –∏ Binance | 2025-12-25 | komas_data_v1.zip |
| #04 | Data: WebSocket Live | 2025-12-25 | komas_ws_v1.zip |
| #05 | Indicators: Base Classes | 2025-12-25 | komas_indicators_v1.zip |

### –°–ª–µ–¥—É—é—â–∏–π:
- **#06** ‚Äî Indicators: Plugin Loader –∏ Registry

---

## üìú –ò–°–¢–û–†–ò–Ø –î–ï–ô–°–¢–í–ò–ô

### –ß–∞—Ç #05 ‚Äî Indicators: Base Classes (2025-12-25) ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–ª–∏:**

1. ‚úÖ –°–æ–∑–¥–∞–ª–∏ `indicators/base/indicator.py` (~380 —Å—Ç—Ä–æ–∫)
   - BaseIndicator ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
   - IndicatorParameter ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–ª—è UI
   - IndicatorResult ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á—ë—Ç–∞
   - SignalType, TrendDirection ‚Äî –µ–Ω—É–º—ã
   - –•–µ–ª–ø–µ—Ä—ã: calculate_atr, calculate_ema, crossover, crossunder

2. ‚úÖ –°–æ–∑–¥–∞–ª–∏ `indicators/base/trading.py` (~500 —Å—Ç—Ä–æ–∫)
   - BaseTradingSystem ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏
   - Position ‚Äî –ø–æ–ª–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏
   - Trade ‚Äî –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–∞—è —Å–¥–µ–ª–∫–∞
   - TradingConfig ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TP/SL/Leverage
   - TakeProfitLevel ‚Äî —É—Ä–æ–≤–µ–Ω—å TP
   - TrailingMode ‚Äî —Ä–µ–∂–∏–º—ã trailing SL

3. ‚úÖ –°–æ–∑–¥–∞–ª–∏ `indicators/base/filter.py` (~480 —Å—Ç—Ä–æ–∫)
   - BaseFilter ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä
   - FilterChain ‚Äî —Ü–µ–ø–æ—á–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤
   - –ì–æ—Ç–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã: SuperTrend, RSI, ADX, Volume
   - FilterResult ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

4. ‚úÖ –°–æ–∑–¥–∞–ª–∏ `indicators/base/optimizer.py` (~520 —Å—Ç—Ä–æ–∫)
   - BaseOptimizer ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
   - ParameterRange ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - OptimizationConfig ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
   - SSE streaming –¥–ª—è real-time –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
   - Heatmap –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
   - calculate_advanced_score ‚Äî –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞

5. ‚úÖ –°–æ–∑–¥–∞–ª–∏ `indicators/base/backtest.py` (~450 —Å—Ç—Ä–æ–∫)
   - BaseBacktest ‚Äî –¥–≤–∏–∂–æ–∫ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞
   - BacktestResult ‚Äî –ø–æ–ª–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   - MonthlyStats, TPStats ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
   - SimpleTradingSystem ‚Äî –ø—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

6. ‚úÖ –°–æ–∑–¥–∞–ª–∏ `indicators/__init__.py` –∏ `indicators/base/__init__.py`
   - –í—Å–µ —ç–∫—Å–ø–æ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

7. ‚úÖ –°–æ–∑–¥–∞–ª–∏ `install_indicators_deps.bat`

8. ‚úÖ –°–æ–∑–¥–∞–ª–∏ `INDICATORS_README.md` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:**
```
komas_indicators_v1.zip
‚îú‚îÄ‚îÄ backend/app/
‚îÇ   ‚îî‚îÄ‚îÄ indicators/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py              # –ì–ª–∞–≤–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ base/
‚îÇ           ‚îú‚îÄ‚îÄ __init__.py          # –≠–∫—Å–ø–æ—Ä—Ç—ã –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤
‚îÇ           ‚îú‚îÄ‚îÄ indicator.py         # ~380 —Å—Ç—Ä–æ–∫
‚îÇ           ‚îú‚îÄ‚îÄ trading.py           # ~500 —Å—Ç—Ä–æ–∫
‚îÇ           ‚îú‚îÄ‚îÄ filter.py            # ~480 —Å—Ç—Ä–æ–∫
‚îÇ           ‚îú‚îÄ‚îÄ optimizer.py         # ~520 —Å—Ç—Ä–æ–∫
‚îÇ           ‚îî‚îÄ‚îÄ backtest.py          # ~450 —Å—Ç—Ä–æ–∫
‚îú‚îÄ‚îÄ install_indicators_deps.bat
‚îú‚îÄ‚îÄ INDICATORS_README.md
‚îî‚îÄ‚îÄ KOMAS_MASTER_PLAN_v1.8.md
```

**–ö–ª–∞—Å—Å—ã —Å–æ–∑–¥–∞–Ω—ã:**
```python
# Indicator
BaseIndicator, IndicatorParameter, IndicatorResult
SignalType, TrendDirection

# Trading
BaseTradingSystem, TradingConfig, Position, Trade
TakeProfitLevel, TrailingMode, PositionType, ExitReason

# Filter
BaseFilter, FilterChain, FilterResult, FilterOutput
SuperTrendFilter, RSIFilter, ADXFilter, VolumeFilter

# Optimizer
BaseOptimizer, OptimizationConfig, ParameterRange
OptimizationResult, OptimizationProgress
OptimizationMode, OptimizationMetric, SearchMethod

# Backtest
BaseBacktest, BacktestConfig, BacktestResult
MonthlyStats, TPStats, SimpleTradingSystem
```

**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

### –ß–∞—Ç #04 ‚Äî Data: WebSocket Live (2025-12-25) ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–ª–∏:**
- BinanceWebSocket –∫–ª–∏–µ–Ω—Ç (~780 —Å—Ç—Ä–æ–∫)
- REST/SSE API (~700 —Å—Ç—Ä–æ–∫)
- Auto-reconnect, –ø–æ–¥–ø–∏—Å–∫–∏, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

---

### –ß–∞—Ç #03 ‚Äî Data: Manager –∏ Binance (2025-12-25) ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–ª–∏:**
- Binance API –∫–ª–∏–µ–Ω—Ç
- Parquet storage
- Data manager —Ñ–∞—Å–∞–¥
- REST API (12 endpoints)

---

### –ß–∞—Ç #02 ‚Äî Core: Database (2025-12-25) ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–ª–∏:**
- SQLite + SQLAlchemy async
- –ú–æ–¥–µ–ª–∏: Settings, Preset, Signal, OptimizationResult

---

### –ß–∞—Ç #01 ‚Äî Core: Logger –∏ Config (2025-12-25) ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–ª–∏:**
- Pydantic Settings
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

### –ß–∞—Ç #00 ‚Äî –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (2025-12-25) ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–ª–∏:**
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –ø–ª–∞–≥–∏–Ω–æ–≤
- Master Plan

---

## üîÑ –ò–°–¢–û–†–ò–Ø –ò–ó–ú–ï–ù–ï–ù–ò–ô –î–û–ö–£–ú–ï–ù–¢–ê

| –í–µ—Ä—Å–∏—è | –î–∞—Ç–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|--------|------|-----------|
| 1.0 | 2025-12-25 | –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è |
| 1.1 | 2025-12-25 | –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞–∑–≤–∞–Ω–∏—è —á–∞—Ç–æ–≤ |
| 1.2 | 2025-12-25 | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ Logger |
| 1.3 | 2025-12-25 | –ò—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π |
| 1.4 | 2025-12-25 | –ß–∞—Ç #01 –∑–∞–≤–µ—Ä—à—ë–Ω |
| 1.5 | 2025-12-25 | –ß–∞—Ç #02 –∑–∞–≤–µ—Ä—à—ë–Ω, –≠—Ç–∞–ø 1 –≥–æ—Ç–æ–≤ |
| 1.6 | 2025-12-25 | –ß–∞—Ç #03 –∑–∞–≤–µ—Ä—à—ë–Ω |
| 1.7 | 2025-12-25 | –ß–∞—Ç #04 –∑–∞–≤–µ—Ä—à—ë–Ω, –≠—Ç–∞–ø 2 (Data) –ó–ê–í–ï–†–®–Å–ù |
| 1.8 | 2025-12-25 | **–ß–∞—Ç #05 –∑–∞–≤–µ—Ä—à—ë–Ω**, –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –≥–æ—Ç–æ–≤—ã |

---

*–î–æ–∫—É–º–µ–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Project Knowledge –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ —á–∞—Ç–∞*
